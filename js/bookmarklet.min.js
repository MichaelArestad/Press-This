(function(a,b,c,d){function e(a,c){if("undefined"!=typeof c){var d=b.createElement("input");d.name=a,d.value=c,d.type="hidden",m.appendChild(d)}}var f,g,h,i,j,k,l,m=b.createElement("form"),n=b.getElementsByTagName("head")[0],o=new Image,p="_press_this_app",q=600,r=700;if(d){if(a.getSelection?l=a.getSelection()+"":b.getSelection?l=b.getSelection()+"":b.selection&&(l=b.selection.createRange().text),d+=(d.indexOf("?")>-1?"&":"?")+"buster="+(new Date).getTime(),b.title.length&&b.title.length<=512&&(d+="&t="+encodeURIComponent(b.title)),l&&l.length<=512&&(d+="&s="+encodeURIComponent(l)),!c.match(/^https?:/))return void(top.location.href=d);d+="&u="+encodeURIComponent(c),c.match(/\/\/www\.youtube\.com\/watch/)?e("_embed[]",c):c.match(/\/\/vimeo\.com\/(.+\/)?([\d]+)$/)?e("_embed[]",c):c.match(/\/\/(www\.)?dailymotion\.com\/video\/.+$/)?e("_embed[]",c):c.match(/\/\/soundcloud\.com\/.+$/)?e("_embed[]",c):c.match(/\/\/twitter\.com\/[^\/]+\/status\/[\d]+$/)&&e("_embed[]",c),f=n.getElementsByTagName("meta")||[];for(var s=0;s<f.length&&!(s>=50);s++){var t=f[s],u=t.getAttribute("name"),v=t.getAttribute("property"),w=t.getAttribute("content");u?e("_meta["+u+"]",w):v&&e("_meta["+v+"]",w)}g=n.getElementsByTagName("link")||[];for(var x=0;x<g.length&&!(x>=50);x++){var y=g[x],z=y.getAttribute("rel");if(z)switch(z){case"canonical":case"icon":case"shortlink":e("_links["+z+"]",y.getAttribute("href"));break;case"alternate":"application/json+oembed"===y.getAttribute("type")?e("_links["+z+"]",y.getAttribute("href")):"handheld"===y.getAttribute("media")&&e("_links["+z+"]",y.getAttribute("href"))}}b.body.getElementsByClassName&&(h=b.body.getElementsByClassName("hfeed")[0]),h=b.getElementById("content")||h||b.body,i=h.getElementsByTagName("img")||[];for(var A=0;A<i.length&&!(A>=100);A++)i[A].src.indexOf("avatar")>-1||i[A].className.indexOf("avatar")>-1||(o.src=i[A].src,o.width>=256&&o.height>=128&&e("_img[]",o.src));j=b.body.getElementsByTagName("iframe")||[];for(var B=0;B<j.length&&!(B>=100);B++)k=j[B].src.match(/\/\/www\.youtube\.com\/embed\/([^\?]+)\?.+$/),k&&2===k.length&&e("_embed[]","https://www.youtube.com/watch?v="+k[1]),k=j[B].src.match(/\/\/player\.vimeo\.com\/video\/([\d]+)$/),k&&2===k.length&&e("_embed[]","https://vimeo.com/"+k[1]);b.title&&b.title>512&&e("t",b.title),l&&l.length>512&&e("s",l),m.setAttribute("method","POST"),m.setAttribute("action",d),m.setAttribute("target",p),m.setAttribute("style","display: none;"),a.screen&&(q=a.screen.availWidth?70*a.screen.availWidth/100:q,r=a.screen.availHeight?90*a.screen.availHeight/100:r),a.open("about:blank",p,"width="+q+",height="+r),b.body.appendChild(m),m.submit()}})(window,document,top.location.href,window.pt_url);