(function(a,b,c,d){function e(a,c){if("undefined"!=typeof c){var d=b.createElement("input");d.name=a,d.value=c,d.type="hidden",m.appendChild(d)}}var f,g,h,i,j,k,l,m=b.createElement("form"),n=b.getElementsByTagName("head")[0],o=new Image,p="_press_this_app";if(d){if(a.getSelection?l=a.getSelection()+"":b.getSelection?l=b.getSelection()+"":b.selection&&(l=b.selection.createRange().text),d+=(d.indexOf("?")>-1?"&":"?")+"buster="+(new Date).getTime(),b.title.length&&b.title.length<=512&&(d+="&t="+encodeURIComponent(b.title)),l&&l.length<=512&&(d+="&s="+encodeURIComponent(l)),!c.match(/^https?:/))return void(top.location.href=d);d+="&u="+encodeURIComponent(c),c.match(/\/\/www\.youtube\.com\/watch/)?e("_embed[]",c):c.match(/\/\/vimeo\.com\/(.+\/)?([\d]+)$/)?e("_embed[]",c):c.match(/\/\/(www\.)?dailymotion\.com\/video\/.+$/)?e("_embed[]",c):c.match(/\/\/soundcloud\.com\/.+$/)?e("_embed[]",c):c.match(/\/\/twitter\.com\/[^\/]+\/status\/[\d]+$/)&&e("_embed[]",c),f=n.getElementsByTagName("meta")||[];for(var q=0;q<f.length&&!(q>=50);q++){var r=f[q],s=r.getAttribute("name"),t=r.getAttribute("property"),u=r.getAttribute("content");s?e("_meta["+s+"]",u):t&&e("_meta["+t+"]",u)}g=n.getElementsByTagName("link")||[];for(var v=0;v<g.length&&!(v>=50);v++){var w=g[v],x=w.getAttribute("rel");if(x)switch(x){case"canonical":case"icon":case"shortlink":e("_links["+x+"]",w.getAttribute("href"));break;case"alternate":"application/json+oembed"===w.getAttribute("type")?e("_links["+x+"]",w.getAttribute("href")):"handheld"===w.getAttribute("media")&&e("_links["+x+"]",w.getAttribute("href"))}}b.body.getElementsByClassName&&(h=b.body.getElementsByClassName("hfeed")[0]),h=b.getElementById("content")||h||b.body,i=h.getElementsByTagName("img")||[];for(var y=0;y<i.length&&!(y>=100);y++)i[y].src.indexOf("avatar")>-1||i[y].className.indexOf("avatar")>-1||(o.src=i[y].src,o.width>=256&&o.height>=128&&e("_img[]",o.src));j=b.body.getElementsByTagName("iframe")||[];for(var z=0;z<j.length&&!(z>=100);z++)k=j[z].src.match(/\/\/www\.youtube\.com\/embed\/([^\?]+)\?.+$/),k&&2===k.length&&e("_embed[]","https://www.youtube.com/watch?v="+k[1]),k=j[z].src.match(/\/\/player\.vimeo\.com\/video\/([\d]+)$/),k&&2===k.length&&e("_embed[]","https://vimeo.com/"+k[1]);b.title&&b.title>512&&e("t",b.title),l&&l.length>512&&e("s",l),m.setAttribute("method","POST"),m.setAttribute("action",d),m.setAttribute("target",p),m.setAttribute("style","display: none;"),a.open("about:blank",p,"width=500,height=700"),b.body.appendChild(m),m.submit()}})(window,document,top.location.href,window.pt_url);